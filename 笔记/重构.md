---
title: 项目重构
---

1. 业务场景背景
2. 面临的问题
   1. 代码历史债务高，底层技术：语言版本老旧，特性落后，存在执行效率低，安全风险，资源浪费的缺陷；
   2. 研发效率低，开发质效：业务逻辑交叉耦合，大量废弃的接口和下线的业务逻辑，降低了代码可读性、可维护性，持续增加项目迭代的难度。
3. 重构目标
   1. 技术升级：采用先进的语言框架，支撑项目高效迭代提供强劲底层引擎、安全性和成熟的应用生态；
   2. 改善设计：梳理代码逻辑，治理冗余，解决代码中的坏味道，构建高复用、低耦合、可扩展的业务架构；
   3. 降本增效：一方面底座升级，提升代码执行效率，降低平响，提升服务可用性、可观测性；一方面在运维实践上，合理分配容器实例的cpu，内存和磁盘的配额，优化资源效能。
4. 技术选型
5. 敏捷式迭代：技术栈升级重构的前提是在保证业务需求不停的情况下进行，需要有持续重构的意识
   1. 工作量预估
   2. 制定策略

## 重构的关键

做好技术选型后，我们就开始下一步的工作。和常见的web项目一样，文库App业务迭代速度快、任务重，难以保证有充足的人力长期投入到技术项目。所以，技术栈升级重构的前提是在保证业务需求不停的情况下进行，需要有持续重构的意识，往往采用『敏捷式迭代』。

# 参考
1. [放弃PHP转投Go，10万行代码重构升级一步到位！](https://mp.weixin.qq.com/s/sNSTqef_8tf10KMl9ed_Yw)
2. [从php5.6到golang1.19-文库App性能跃迁之路](https://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&mid=2653561937&idx=1&sn=59a7ebd8713cd3f28136c4c70808670c&chksm=8139b5c9b64e3cdfefa63a42216140f41a99c396df0cc6949f298b2ca78f7a19e2cb4253a4cf&scene=21#wechat_redirect)
